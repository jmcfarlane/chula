#! /usr/bin/env python

import os
import sys
from wsgiref.simple_server import make_server

# Expose Chula and the "example" python package, as it's not "installed"
cwd = os.getcwd()
sys.path.insert(0, cwd + '/../..')
sys.path.insert(0, cwd)

from example.www import wsgi

# Update a few things for standalone mode
wsgi.config.debug = True
wsgi.config.local.root = cwd
wsgi.config.local.standalone = True

# Setup a simple server using the proxy app and it's configuration
port = 8080
httpd = make_server('', port, wsgi.application)
try:
    print 'Starting server on: http://localhost:%s' % port 
    httpd.serve_forever()
except KeyboardInterrupt:
    sys.exit()
