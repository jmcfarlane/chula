<%inherit file="/lib/base.tmpl"/>

<%def name="title()">
  ${parent.title()} - homepage
</%def>

<h1>Chula Environment</h1>
<p>
  Below you'll find a table of the available environment variables.
  By default they are available to all controllers, and are exposed in
  the model by default.
</p>

## Sort the environment by key
<%
  keys = model.env.keys()
  keys.sort()
%>

<table>
  <tr>
    <th>Variable</th>
    <th>Value</th>
  </tr>
  % for key in keys:
    <tr>
      <td>${key}</td>
      <td>${model.env[key] | h}</td>
    </tr>
  % endfor
</table>

<h1>Example on how to reference a variable above</h1>
<p>
  If you would like to reference an environment variable above, you
  could do either of the following in your controller:

  <code>
  print 'Request uri:', self.env.REQUEST_URI
  <span class="comment">Request uri: ${model.env.REQUEST_URI}</span>

  print 'Request uri:', self.model.env.REQUEST_URI
  <span class="comment">Request uri: ${model.env.REQUEST_URI}</span>
  </code>
</p>
